@startuml FCFS_Algoritmo_Unificado
title FCFS - First Come First Served - Flujo de DecisiÃ³n Completo

start

:Evento requiere selecciÃ³n de proceso;
note right
**Eventos que activan:**
â€¢ CPU libre y Ready Queue no vacÃ­a
â€¢ Proceso termina rÃ¡faga CPU
â€¢ Proceso termina I/O
end note

if (Â¿Ready Queue vacÃ­a?) then (SÃ)
  :CPU permanece idle;
  note right: Sin procesos disponibles\npara scheduling
  stop
endif

:Examinar Ready Queue;
note right
**Estructura de Ready Queue:**
â€¢ Cola FIFO estricta
â€¢ Sin reordenamiento
â€¢ Preserva orden temporal de llegada
end note

:proceso = primer elemento de Ready Queue (FIFO);
note right
**FCFS Puro:** 
Orden FIFO de inserciÃ³n original
Sin consideraciÃ³n de:
â€¢ Tiempo CPU restante
â€¢ Prioridad
â€¢ Tiempo de llegada vs. actual
end note

:Validar estado del proceso;
note right: proceso.estado debe ser LISTO

:Remover proceso de Ready Queue;
note right: readyQueue.shift() o equivalente

:proceso.estado = LISTO â†’ CORRIENDO;
note right: **TransiciÃ³n crÃ­tica**\nÃšnica que consume TCP

:Aplicar TCP (Tiempo Cambio Contexto);
note right
**TCP se cobra por:**
â€¢ Cambio de contexto del SO
â€¢ Salvar registros proceso anterior
â€¢ Cargar registros proceso nuevo
â€¢ Actualizar MMU, etc.
end note

:tiempo += TCP;

:procesoActualCPU = proceso;
note right: Actualizar referencia\nproceso en ejecuciÃ³n

:Programar evento FIN_RAFAGA_CPU;
note right
**tiempo_evento = tiempo_actual + duracionCPU**
Siguiente evento: proceso completarÃ¡ rÃ¡faga actual
end note

:Actualizar estadÃ­sticas de despacho;
note right
â€¢ Incrementar conteo despachos
â€¢ Registrar tiempo inicio ejecuciÃ³n
â€¢ Calcular tiempo de espera del proceso
end note

stop

' === CARACTERÃSTICAS Y COMPORTAMIENTO ===

note top of start
  **POLÃTICA FCFS - CARACTERÃSTICAS FUNDAMENTALES**

  **âœ… Ventajas:**
  â€¢ Simplicidad implementaciÃ³n
  â€¢ DeterminÃ­stico y predecible
  â€¢ Fairness temporal (orden llegada)
  â€¢ Sin starvation posible
  â€¢ Ã“ptimo para batch processing
  â€¢ MÃ­nimo overhead scheduling

  **âŒ Desventajas:**
  â€¢ Efecto convoy (procesos largos bloquean cortos)
  â€¢ Tiempo respuesta muy variable
  â€¢ No considera urgencia o importancia
  â€¢ Puede ser ineficiente para workloads interactivos

  **ðŸ”„ Comportamiento EspecÃ­fico:**
  â€¢ **No expropiativo:** Proceso ejecuta hasta completar rÃ¡faga
  â€¢ **Post-I/O:** Proceso va al final de Ready Queue
  â€¢ **TCP:** Solo se cobra en despacho (LISTO â†’ CORRIENDO)
  **Ordenamiento:** FIFO estricto por tiempo de llegada
end note

note bottom of stop
**FLUJO DE CONTROL FCFS**

**1. ActivaciÃ³n:** Eventos que requieren nueva selecciÃ³n
**2. ValidaciÃ³n:** Verificar disponibilidad de procesos
**3. SelecciÃ³n:** FIFO puro sin reordenamiento  
**4. Despacho:** Aplicar TCP y programar siguiente evento
**5. Control:** Actualizar estado sistema y estadÃ­sticas

**Orden InserciÃ³n Ready Queue:**
â€¢ Proceso nuevo â†’ final cola (tras TIP)
â€¢ Proceso post-I/O â†’ final cola (tras I/O)
â€¢ **NO** se reordena por ningÃºn criterio

**Casos Especiales:**
â€¢ MÃºltiples procesos llegan simultÃ¡neamente: orden por PID o definiciÃ³n
â€¢ Ready Queue vacÃ­a: CPU idle hasta prÃ³ximo evento
â€¢ Proceso Ãºnico: sigue aplicando TCP normal
end note

note left of "Programar evento FIN_RAFAGA_CPU"
**EVENTOS PROGRAMADOS**

**FIN_RAFAGA_CPU:**
â€¢ Si rafagasRestantes > 0 â†’ CORRIENDO â†’ BLOQUEADO
â€¢ Si rafagasRestantes = 0 â†’ CORRIENDO â†’ TERMINADO
â€¢ **Ambas transiciones son instantÃ¡neas (NO TCP)**

**Manejo Temporal:**
â€¢ tiempo_evento = tiempo_actual + TCP + duracionCPU_actual
â€¢ TCP incluido para reflejar overhead real
â€¢ PrecisiÃ³n temporal crÃ­tica para mÃ©tricas
end note

@enduml